{"remainingRequest":"C:\\workspace-jidea\\imprendocasa\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\workspace-jidea\\imprendocasa\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\workspace-jidea\\imprendocasa\\node_modules\\angular-router-loader\\src\\index.js!C:\\workspace-jidea\\imprendocasa\\node_modules\\tslint-loader\\index.js!C:\\workspace-jidea\\imprendocasa\\src\\main\\webapp\\app\\entities\\incarico\\cambio-stato-modal\\cambio-stato-modal.component.ts","dependencies":[{"path":"C:\\workspace-jidea\\imprendocasa\\src\\main\\webapp\\app\\entities\\incarico\\cambio-stato-modal\\cambio-stato-modal.component.ts","mtime":1548761752543},{"path":"C:\\workspace-jidea\\imprendocasa\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"C:\\workspace-jidea\\imprendocasa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1548763036447},{"path":"C:\\workspace-jidea\\imprendocasa\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1548763032809},{"path":"C:\\workspace-jidea\\imprendocasa\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\workspace-jidea\\imprendocasa\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"C:\\workspace-jidea\\imprendocasa\\node_modules\\tslint-loader\\index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar core_1 = require(\"@angular/core\");\r\nvar ng_bootstrap_1 = require(\"@ng-bootstrap/ng-bootstrap\");\r\nvar incarico_model_1 = require(\"app/shared/model/incarico.model\");\r\nvar incarico_1 = require(\"app/entities/incarico\");\r\nvar ng_jhipster_1 = require(\"ng-jhipster\");\r\nvar CambioStatoModalComponent = /** @class */ (function () {\r\n    function CambioStatoModalComponent(activeModal, incaricoService, alertService) {\r\n        this.activeModal = activeModal;\r\n        this.incaricoService = incaricoService;\r\n        this.alertService = alertService;\r\n    }\r\n    CambioStatoModalComponent.prototype.ngOnInit = function () {\r\n        this.selectedState = this.statoIniziale;\r\n        this.incaricoBkp = Object.assign({}, this.incarico);\r\n    };\r\n    CambioStatoModalComponent.prototype.cancel = function () {\r\n        this.activeModal.dismiss();\r\n    };\r\n    CambioStatoModalComponent.prototype.save = function () {\r\n        var _this = this;\r\n        this.incaricoBkp.stato = this.selectedState;\r\n        this.incaricoService.changeStatus(this.incaricoBkp).subscribe(function (res) {\r\n            // this.incarico = res;\r\n            _this.activeModal.close(res);\r\n        }, function (error) {\r\n            _this.onError(error);\r\n        });\r\n        // this.activeModal.close(this.selectedState);\r\n    };\r\n    CambioStatoModalComponent.prototype.onError = function (error) {\r\n        var errorServerAggregate = error.error && error.error.detail ?\r\n            error.error.detail : error.message;\r\n        var errorSplit = errorServerAggregate.split(',');\r\n        var errorKey = errorSplit[0];\r\n        var params = {};\r\n        if (errorKey === 'error.editIncarico.cambioStatoNonValido') {\r\n            params['statoIniziale'] = errorSplit[1];\r\n            params['statoFinale'] = errorSplit[2];\r\n            params['idIncarico'] = errorSplit[3];\r\n            params['utente'] = errorSplit[4];\r\n        }\r\n        this.alertService.error(errorKey, params, null);\r\n        // this.activeModal.dismiss();\r\n    };\r\n    var _a, _b, _c, _d, _e, _f;\r\n    tslib_1.__decorate([\r\n        core_1.Input(),\r\n        tslib_1.__metadata(\"design:type\", typeof (_a = typeof Array !== \"undefined\" && Array) === \"function\" ? _a : Object)\r\n    ], CambioStatoModalComponent.prototype, \"statiIncarico\", void 0);\r\n    tslib_1.__decorate([\r\n        core_1.Input(),\r\n        tslib_1.__metadata(\"design:type\", typeof (_b = typeof incarico_model_1.StatoIncarico !== \"undefined\" && incarico_model_1.StatoIncarico) === \"function\" ? _b : Object)\r\n    ], CambioStatoModalComponent.prototype, \"statoIniziale\", void 0);\r\n    tslib_1.__decorate([\r\n        core_1.Input(),\r\n        tslib_1.__metadata(\"design:type\", typeof (_c = typeof incarico_model_1.Incarico !== \"undefined\" && incarico_model_1.Incarico) === \"function\" ? _c : Object)\r\n    ], CambioStatoModalComponent.prototype, \"incarico\", void 0);\r\n    CambioStatoModalComponent = tslib_1.__decorate([\r\n        core_1.Component({\r\n            selector: 'jhi-cambio-stato-modal',\r\n            templateUrl: './cambio-stato-modal.component.html'\r\n        }),\r\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_d = typeof ng_bootstrap_1.NgbActiveModal !== \"undefined\" && ng_bootstrap_1.NgbActiveModal) === \"function\" ? _d : Object, typeof (_e = typeof incarico_1.IncaricoService !== \"undefined\" && incarico_1.IncaricoService) === \"function\" ? _e : Object, typeof (_f = typeof ng_jhipster_1.JhiAlertService !== \"undefined\" && ng_jhipster_1.JhiAlertService) === \"function\" ? _f : Object])\r\n    ], CambioStatoModalComponent);\r\n    return CambioStatoModalComponent;\r\n}());\r\nexports.CambioStatoModalComponent = CambioStatoModalComponent;\r\n",{"version":3,"file":"C:\\workspace-jidea\\imprendocasa\\src\\main\\webapp\\app\\entities\\incarico\\cambio-stato-modal\\cambio-stato-modal.component.ts","sourceRoot":"","sources":["C:\\workspace-jidea\\imprendocasa\\node_modules\\angular-router-loader\\src\\index.js!C:\\workspace-jidea\\imprendocasa\\node_modules\\tslint-loader\\index.js!C:\\workspace-jidea\\imprendocasa\\src\\main\\webapp\\app\\entities\\incarico\\cambio-stato-modal\\cambio-stato-modal.component.ts"],"names":[],"mappings":";;;AAAA,sCAAuD;AACvD,2DAA0D;AAC1D,kEAAwE;AACxE,kDAAsD;AACtD,2CAA4C;AAM5C;IAQI,mCACW,WAA2B,EAC1B,eAAgC,EAChC,YAA6B;QAF9B,gBAAW,GAAX,WAAW,CAAgB;QAC1B,oBAAe,GAAf,eAAe,CAAiB;QAChC,iBAAY,GAAZ,YAAY,CAAiB;IACzC,CAAC;IAED,4CAAQ,GAAR;QACI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACxC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IACxD,CAAC;IAED,0CAAM,GAAN;QACI,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IAC/B,CAAC;IAED,wCAAI,GAAJ;QAAA,iBAUC;QATG,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC;QAE5C,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,UAAA,GAAG;YAC7D,uBAAuB;YACvB,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAChC,CAAC,EAAE,UAAA,KAAK;YACJ,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;QACH,8CAA8C;IAClD,CAAC;IAEO,2CAAO,GAAf,UAAgB,KAAK;QACjB,IAAM,oBAAoB,GAAG,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC5D,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;QAEvC,IAAM,UAAU,GAAG,oBAAoB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACnD,IAAM,QAAQ,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;QAE/B,IAAM,MAAM,GAAG,EAAE,CAAC;QAElB,IAAI,QAAQ,KAAK,yCAAyC,EAAE;YACxD,MAAM,CAAC,eAAe,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAExC,MAAM,CAAC,aAAa,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAEtC,MAAM,CAAC,YAAY,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAErC,MAAM,CAAC,QAAQ,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;SACpC;QAED,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;QAChD,8BAA8B;IAClC,CAAC;;IAtDQ;QAAR,YAAK,EAAE;8DAAgB,KAAK,oBAAL,KAAK;oEAAgB;IACpC;QAAR,YAAK,EAAE;8DAAgB,8BAAa,oBAAb,8BAAa;oEAAC;IAC7B;QAAR,YAAK,EAAE;8DAAW,yBAAQ,oBAAR,yBAAQ;+DAAC;IAJnB,yBAAyB;QAJrC,gBAAS,CAAC;YACP,QAAQ,EAAE,wBAAwB;YAClC,WAAW,EAAE,qCAAqC;SACrD,CAAC;qEAU0B,6BAAc,oBAAd,6BAAc,oDACT,0BAAe,oBAAf,0BAAe,oDAClB,6BAAe,oBAAf,6BAAe;OAXhC,yBAAyB,CAyDrC;IAAD,gCAAC;CAAA,AAzDD,IAyDC;AAzDY,8DAAyB","sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\r\nimport {NgbActiveModal} from '@ng-bootstrap/ng-bootstrap';\r\nimport {Incarico, StatoIncarico} from 'app/shared/model/incarico.model';\r\nimport {IncaricoService} from 'app/entities/incarico';\r\nimport {JhiAlertService} from 'ng-jhipster';\r\n\r\n@Component({\r\n    selector: 'jhi-cambio-stato-modal',\r\n    templateUrl: './cambio-stato-modal.component.html'\r\n})\r\nexport class CambioStatoModalComponent implements OnInit {\r\n\r\n    @Input() statiIncarico: Array<StatoIncarico>;\r\n    @Input() statoIniziale: StatoIncarico;\r\n    @Input() incarico: Incarico;\r\n    selectedState: StatoIncarico;\r\n    private incaricoBkp: Incarico;\r\n\r\n    constructor(\r\n        public activeModal: NgbActiveModal,\r\n        private incaricoService: IncaricoService,\r\n        private alertService: JhiAlertService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.selectedState = this.statoIniziale;\r\n        this.incaricoBkp = Object.assign({}, this.incarico);\r\n    }\r\n\r\n    cancel() {\r\n        this.activeModal.dismiss();\r\n    }\r\n\r\n    save() {\r\n        this.incaricoBkp.stato = this.selectedState;\r\n\r\n        this.incaricoService.changeStatus(this.incaricoBkp).subscribe(res => {\r\n            // this.incarico = res;\r\n            this.activeModal.close(res);\r\n        }, error => {\r\n            this.onError(error);\r\n        });\r\n        // this.activeModal.close(this.selectedState);\r\n    }\r\n\r\n    private onError(error) {\r\n        const errorServerAggregate = error.error && error.error.detail ?\r\n            error.error.detail : error.message;\r\n\r\n        const errorSplit = errorServerAggregate.split(',');\r\n        const errorKey = errorSplit[0];\r\n\r\n        const params = {};\r\n\r\n        if (errorKey === 'error.editIncarico.cambioStatoNonValido') {\r\n            params['statoIniziale'] = errorSplit[1];\r\n\r\n            params['statoFinale'] = errorSplit[2];\r\n\r\n            params['idIncarico'] = errorSplit[3];\r\n\r\n            params['utente'] = errorSplit[4];\r\n        }\r\n\r\n        this.alertService.error(errorKey, params, null);\r\n        // this.activeModal.dismiss();\r\n    }\r\n}\r\n"]}]}